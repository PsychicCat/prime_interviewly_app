var app=angular.module("app",["ngMaterial","ngRoute"]);app.config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode({enabled:!0}),e.when("/home",{templateUrl:"views/partials/home.html"}).when("/",{templateUrl:"views/partials/login/login.html"}).when("/forgot",{templateUrl:"views/partials/forgot/forgot.html"}).when("/events",{templateUrl:"views/partials/events/events.html"}).when("/students",{templateUrl:"views/partials/students/students.html"}).when("/interviewers",{templateUrl:"views/partials/interviewers/interviewers.html"}).when("/archived-events",{templateUrl:"views/partials/archivedEvents/archivedEvents.html"}).when("/profile",{templateUrl:"views/partials/profile/profile.html"}).when("/logout",{templateUrl:"views/partials/logout/logout.html"}).when("/new-event",{templateUrl:"views/partials/new-event/new-event.html"}).when("/:token",{templateUrl:"views/partials/reset/reset.html",controller:"reset"}).otherwise({redirectTo:"/views/partials/login.html"})}]),app.controller("student",["$scope","$mdDialog",function(e,t){function o(e){e.close=function(){t.hide(),e.companies=[{name:"Prime"},{name:"Nerdery"},{name:"Digital People"}],e.events=[{name:"mocks Delta"},{name:"career Delta"},{name:"mocks Epsilon"}]}}e.openStudents=function(e){t.show({controller:o,templateUrl:"views/partials/Dialogs/studentDialog.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}]),app.controller("interviewer",["$scope","$mdDialog",function(e,t){function o(e,t){e.close=function(){t.hide()},e.cohorts=[{name:"Delta"},{name:"gamma"},{name:"Epsilon"}],e.events=[{name:"mocks Delta"},{name:"career Delta"},{name:"mocks Epsilon"}]}e.openInterviewer=function(e){t.show({controller:o,templateUrl:"views/partials/Dialogs/interviewerDialog.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}]),app.controller("uploads",["$scope","$mdDialog",function(e,t){function o(e,t){e.close=function(){t.hide()}}e.openUploads=function(e){t.show({controller:o,templateUrl:"views/partials/Dialogs/uploadDialog.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}]),app.controller("registerOpen",["$scope","$mdDialog","$http",function(e,t){function o(e,t,o){e.register=function(e,n,a){t.post("/api/users",{username:e,email:n,password:a}).then(function(e){console.log(e),200==e&&o.hide()})},e.close=function(){o.hide()}}e.openRegister=function(e){t.show({controller:o,templateUrl:"views/partials/Dialogs/register.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}]),app.controller("sendEmail",["$scope","$http","$location",function(e,t,o){e.send=function(e){t.post("/forgot",{email:e}).then(function(e){200==e.status&&o.path("/")})}}]),app.controller("login",["$rootScope","$scope","$http","$location","$mdToast",function(e,t,o,n,a){t.submit=function(t,l){o.post("/authenticate",{username:t,password:l}).then(function(t){t.data.token?(sessionStorage.username=angular.toJson(t.data.user.username),sessionStorage.email=angular.toJson(t.data.user.email),sessionStorage.token=angular.toJson(t.data.token),n.path("/events"),e.$broadcast("logged In")):a.showSimple(t.data.error)})}}]),app.controller("toolbar",["$rootScope","$scope","$window",function(e,t,o){t.user=o.sessionStorage,t.paths=!0,e.$on("logged In",function(){void 0==o.sessionStorage.token?t.paths=!0:t.paths=!1})}]),app.controller("reset",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.changePass=function(e,a){console.log(e);var l=o.token;e===a&&t.post("/reset",{password:e,token:l}).then(function(e){console.log(e),200===e.status&&n.path("/")})}}]),app.controller("logout",["$rootScope","$scope","$location","$interval",function(e,t,o,n){t.logout=function(){o.path("/logout"),sessionStorage.clear(),e.$broadcast("logged In"),n(function(){o.path("/")},3e3,1)}}]),app.directive("verifySame",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,o,n){n.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("password",function(){n.$validate()})}}}),angular.module("app").controller("eventsCtrl",function(e){function t(e){var t,o=[];return t=angular.extend({},e),t.title=t.title,t.span={row:1,col:1},t.background="gray",t.span.row=t.span.col=1,o.push(t),o}this.tiles=t({title:"Event Title",background:""})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImV2ZW50cy9ldmVudHNDdHJsLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiZW5hYmxlZCIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiJHNjb3BlIiwiJG1kRGlhbG9nIiwiYWRkU3R1ZGVudCIsImNsb3NlIiwiaGlkZSIsImNvbXBhbmllcyIsIm5hbWUiLCJldmVudHMiLCJvcGVuU3R1ZGVudHMiLCJldiIsInNob3ciLCJwYXJlbnQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJib2R5IiwidGFyZ2V0RXZlbnQiLCJjbGlja091dHNpZGVUb0Nsb3NlIiwiYWRkSW50ZXJ2aWV3ZXIiLCJjb2hvcnRzIiwib3BlbkludGVydmlld2VyIiwidXBsb2FkRmlsZSIsIm9wZW5VcGxvYWRzIiwicmVnaXN0ZXIiLCIkaHR0cCIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwib3BlblJlZ2lzdGVyIiwiJGxvY2F0aW9uIiwic2VuZCIsInN0YXR1cyIsInBhdGgiLCIkcm9vdFNjb3BlIiwiJG1kVG9hc3QiLCJzdWJtaXQiLCJkYXRhIiwidG9rZW4iLCJzZXNzaW9uU3RvcmFnZSIsInRvSnNvbiIsInVzZXIiLCIkYnJvYWRjYXN0Iiwic2hvd1NpbXBsZSIsImVycm9yIiwiJHdpbmRvdyIsInBhdGhzIiwiJG9uIiwidW5kZWZpbmVkIiwiJHJvdXRlUGFyYW1zIiwiY2hhbmdlUGFzcyIsImNvbmZpcm0iLCIkaW50ZXJ2YWwiLCJsb2dvdXQiLCJjbGVhciIsImRpcmVjdGl2ZSIsInJlcXVpcmUiLCJzY29wZSIsIm90aGVyTW9kZWxWYWx1ZSIsImxpbmsiLCJhdHRyaWJ1dGVzIiwibmdNb2RlbCIsIiR2YWxpZGF0b3JzIiwiY29tcGFyZVRvIiwibW9kZWxWYWx1ZSIsIiR3YXRjaCIsIiR2YWxpZGF0ZSIsImJ1aWxkR3JpZE1vZGVsIiwidGlsZVRtcGwiLCJpdCIsInJlc3VsdHMiLCJleHRlbmQiLCJ0aXRsZSIsInNwYW4iLCJyb3ciLCJjb2wiLCJiYWNrZ3JvdW5kIiwicHVzaCIsInRoaXMiLCJ0aWxlcyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUFBLGFBQUEsV0FDQUYsS0FBQUcsUUFBQSxpQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxXQUNBQyxTQUFBLElBRUFILEVBQ0FJLEtBQUEsU0FDQUMsWUFBQSw2QkFHQUQsS0FBQSxLQUNBQyxZQUFBLG9DQUVBRCxLQUFBLFdBQ0FDLFlBQUEsc0NBRUFELEtBQUEsV0FDQUMsWUFBQSxzQ0FFQUQsS0FBQSxhQUNBQyxZQUFBLDBDQUVBRCxLQUFBLGlCQUNBQyxZQUFBLGtEQUdBRCxLQUFBLG9CQUNBQyxZQUFBLHNEQUdBRCxLQUFBLFlBQ0FDLFlBQUEsd0NBR0FELEtBQUEsV0FDQUMsWUFBQSxzQ0FHQUQsS0FBQSxjQUNBQyxZQUFBLDRDQUVBRCxLQUFBLFdBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsVUFFQUMsV0FDQUMsV0FBQSxrQ0FJQVosSUFBQVUsV0FBQSxXQUFBLFNBQUEsWUFBQSxTQUFBRyxFQUFBQyxHQVVBLFFBQUFDLEdBQUFGLEdBQ0FBLEVBQUFHLE1BQUEsV0FDQUYsRUFBQUcsT0FDQUosRUFBQUssWUFDQUMsS0FBQSxVQUNBQSxLQUFBLFlBQ0FBLEtBQUEsbUJBRUFOLEVBQUFPLFNBQ0FELEtBQUEsZ0JBQ0FBLEtBQUEsaUJBQ0FBLEtBQUEsbUJBcEJBTixFQUFBUSxhQUFBLFNBQUFDLEdBQ0FSLEVBQUFTLE1BQ0FiLFdBQUFLLEVBQ0FOLFlBQUEsNENBQ0FlLE9BQUF2QixRQUFBd0IsUUFBQUMsU0FBQUMsTUFDQUMsWUFBQU4sRUFDQU8scUJBQUEsUUFxQkE3QixJQUFBVSxXQUFB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LEtBQUE0QixHQUNBL0IsRUFBQUksS0FBQSxVQUFBRCxTQUFBQSxFQUFBZSxNQUFBQSxJQUFBYixLQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLElBQUFGLEdBQ0EsTUFBQUEsRUFBQU0sUUFDQUYsRUFBQUcsS0FBQSxXQU9BakQsSUFBQVUsV0FBQSxVQUFBLGFBQUEsU0FBQSxZQUFBLFlBQUEsU0FBQXdDLEVBQUFyQyxFQUFBaUMsRUFBQXNCLEdBQ0F2RCxFQUFBd0QsT0FBQSxXQUNBdkIsRUFBQUcsS0FBQSxXQUNBTSxlQUFBZSxRQUNBcEIsRUFBQVEsV0FBQSxhQUNBVSxFQUFBLFdBQ0F0QixFQUFBRyxLQUFBLE1BQ0EsSUFBQSxPQUlBakQsSUFBQXVFLFVBQUEsYUFBQSxXQUNBLE9BQ0FDLFFBQUEsVUFDQUMsT0FDQUMsZ0JBQUEsY0FFQUMsS0FBQSxTQUFBRixFQUFBaEQsRUFBQW1ELEVBQUFDLEdBRUFBLEVBQUFDLFlBQUFDLFVBQUEsU0FBQUMsR0FDQSxNQUFBQSxJQUFBUCxFQUFBQyxpQkFHQUQsRUFBQVEsT0FBQSxXQUFBLFdBQ0FKLEVBQUFLLGtCQ3ZPQWpGLFFBQUFDLE9BQUEsT0FBQVEsV0FBQSxhQUFBLFNBQUFHLEdBS0EsUUFBQXNFLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUMsSUFTQSxPQVJBRCxHQUFBcEYsUUFBQXNGLFVBQUFILEdBQ0FDLEVBQUFHLE1BQUFILEVBQUFHLE1BQ0FILEVBQUFJLE1BQUFDLElBQUEsRUFBQUMsSUFBQSxHQUNBTixFQUFBTyxXQUFBLE9BQ0FQLEVBQUFJLEtBQUFDLElBQUFMLEVBQUFJLEtBQUFFLElBQUEsRUFFQUwsRUFBQU8sS0FBQVIsR0FFQUMsRUFkQVEsS0FBQUMsTUFBQVosR0FDQUssTUFBQSxjQUNBSSxXQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCcsICduZ1JvdXRlJ10pO1xuYXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKXtcbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgfSk7XG4gICAgJHJvdXRlUHJvdmlkZXIuXG4gICAgICAgIHdoZW4oJy9ob21lJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9ob21lLmh0bWwnXG4gICAgICAgIH0pLlxuXG4gICAgICAgIHdoZW4oJy8nLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhcnRpYWxzL2xvZ2luL2xvZ2luLmh0bWwnXG4gICAgICAgIH0pLlxuICAgICAgICB3aGVuKCcvZm9yZ290Jywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9mb3Jnb3QvZm9yZ290Lmh0bWwnXG4gICAgICAgIH0pLlxuICAgICAgICB3aGVuKCcvZXZlbnRzJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9ldmVudHMvZXZlbnRzLmh0bWwnXG4gICAgICAgIH0pLlxuICAgICAgICB3aGVuKCcvc3R1ZGVudHMnLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhcnRpYWxzL3N0dWRlbnRzL3N0dWRlbnRzLmh0bWwnXG4gICAgICAgIH0pLlxuICAgICAgICB3aGVuKCcvaW50ZXJ2aWV3ZXJzJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9pbnRlcnZpZXdlcnMvaW50ZXJ2aWV3ZXJzLmh0bWwnXG4gICAgICAgIH0pLlxuXG4gICAgICAgIHdoZW4oJy9hcmNoaXZlZC1ldmVudHMnLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhcnRpYWxzL2FyY2hpdmVkRXZlbnRzL2FyY2hpdmVkRXZlbnRzLmh0bWwnXG4gICAgICAgIH0pLlxuXG4gICAgICAgIHdoZW4oJy9wcm9maWxlJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9wcm9maWxlL3Byb2ZpbGUuaHRtbCdcbiAgICAgICAgfSkuXG5cbiAgICAgICAgd2hlbignL2xvZ291dCcsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFydGlhbHMvbG9nb3V0L2xvZ291dC5odG1sJ1xuICAgICAgICB9KS5cblxuICAgICAgICB3aGVuKCcvbmV3LWV2ZW50Jywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9uZXctZXZlbnQvbmV3LWV2ZW50Lmh0bWwnXG4gICAgICAgIH0pLlxuICAgICAgICB3aGVuKCcvOnRva2VuJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9yZXNldC9yZXNldC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNldCdcbiAgICAgICAgfSkuXG4gICAgICAgIG90aGVyd2lzZSh7XG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnL3ZpZXdzL3BhcnRpYWxzL2xvZ2luLmh0bWwnXG4gICAgfSlcbn1dKTtcbi8vU3R1ZGVudCBEaWFsb2cgQ29udHJvbGxlclxuYXBwLmNvbnRyb2xsZXIoJ3N0dWRlbnQnLCBbJyRzY29wZScsICckbWREaWFsb2cnLCBmdW5jdGlvbigkc2NvcGUsJG1kRGlhbG9nKXtcbiAgICAkc2NvcGUub3BlblN0dWRlbnRzID0gZnVuY3Rpb24oZXYpe1xuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBhZGRTdHVkZW50LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9EaWFsb2dzL3N0dWRlbnREaWFsb2cuaHRtbCcsXG4gICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWVcbiAgICAgICAgfSlcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGFkZFN0dWRlbnQoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gICAgICAgICAgICAkc2NvcGUuY29tcGFuaWVzID0gW1xuICAgICAgICAgICAgICAgIHtuYW1lOiAnUHJpbWUnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ05lcmRlcnknfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ0RpZ2l0YWwgUGVvcGxlJ31cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0gW1xuICAgICAgICAgICAgICAgIHtuYW1lOiAnbW9ja3MgRGVsdGEnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2NhcmVlciBEZWx0YSd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnbW9ja3MgRXBzaWxvbid9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuXG59XSk7XG4vL0ludGVydmlld2VyIERpYWxvZyBDb250cm9sbGVyXG5hcHAuY29udHJvbGxlcignaW50ZXJ2aWV3ZXInLCBbJyRzY29wZScsICckbWREaWFsb2cnLCBmdW5jdGlvbigkc2NvcGUsICRtZERpYWxvZyl7XG4gICAgJHNjb3BlLm9wZW5JbnRlcnZpZXdlciA9IGZ1bmN0aW9uKGV2KXtcbiAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgICAgY29udHJvbGxlcjogYWRkSW50ZXJ2aWV3ZXIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhcnRpYWxzL0RpYWxvZ3MvaW50ZXJ2aWV3ZXJEaWFsb2cuaHRtbCcsXG4gICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWVcbiAgICAgICAgfSlcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGFkZEludGVydmlld2VyKCRzY29wZSwgJG1kRGlhbG9nKXtcbiAgICAkc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgIH07XG4gICAgJHNjb3BlLmNvaG9ydHMgPSBbXG4gICAgICAgIHtuYW1lOiAnRGVsdGEnfSxcbiAgICAgICAge25hbWU6ICdnYW1tYSd9LFxuICAgICAgICB7bmFtZTogJ0Vwc2lsb24nfVxuICAgIF07XG4gICAgJHNjb3BlLmV2ZW50cyA9IFtcbiAgICAgICAge25hbWU6ICdtb2NrcyBEZWx0YSd9LFxuICAgICAgICB7bmFtZTogJ2NhcmVlciBEZWx0YSd9LFxuICAgICAgICB7bmFtZTogJ21vY2tzIEVwc2lsb24nfVxuICAgIF1cbiAgICB9XG59XSk7XG4vL1VwbG9hZCBEaWFsb2cgY29udHJvbGxlclxuYXBwLmNvbnRyb2xsZXIoJ3VwbG9hZHMnLCBbJyRzY29wZScsICckbWREaWFsb2cnLCBmdW5jdGlvbigkc2NvcGUsICRtZERpYWxvZyl7XG4gICAgJHNjb3BlLm9wZW5VcGxvYWRzID0gZnVuY3Rpb24oZXYpe1xuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiB1cGxvYWRGaWxlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYXJ0aWFscy9EaWFsb2dzL3VwbG9hZERpYWxvZy5odG1sJyxcbiAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZVxuICAgICAgICB9KVxuICAgIH07XG4gICAgZnVuY3Rpb24gdXBsb2FkRmlsZSgkc2NvcGUsICRtZERpYWxvZyl7XG4gICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1dKTtcbi8vY29udHJvbGxlciBmb3IgdGhlIHJlZ2lzdHJhdGlvbiBhbHNvIHNlbmRzIHBvc3QgdG8gY3JlYXRlIGEgdXNlclxuYXBwLmNvbnRyb2xsZXIoJ3JlZ2lzdGVyT3BlbicsIFsnJHNjb3BlJywgJyRtZERpYWxvZycsICckaHR0cCcsIGZ1bmN0aW9uKCRzY29wZSwgJG1kRGlhbG9nKXtcbiAgICAkc2NvcGUub3BlblJlZ2lzdGVyID0gZnVuY3Rpb24oZXYpe1xuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiByZWdpc3RlcixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFydGlhbHMvRGlhbG9ncy9yZWdpc3Rlci5odG1sJyxcbiAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZVxuICAgICAgICB9KVxuICAgIH07XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXIoJHNjb3BlLCAkaHR0cCwgJG1kRGlhbG9nKSB7XG4gICAgICAgICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQpe1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgICAgICB9O1xuICAgIH1cbn1dKTtcbi8vY29udHJvbGxlciB0byBzZW5kIHJlc2V0IGVtYWlsXG5hcHAuY29udHJvbGxlcignc2VuZEVtYWlsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKXtcbiAgICAkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgICAgICRodHRwLnBvc3QoJy9mb3Jnb3QnLCB7ZW1haWw6IGVtYWlsfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1dKTtcbi8vY29udHJvbGxlciB0byBzZW5kIHBhc3N3b3JkIHRvIGF1dGhlbnRpY2F0aW9uIGFuZCBsb2dpbiB0byB3ZWJzaXRlIG9uIGNvbmZpcm1hdGlvblxuYXBwLmNvbnRyb2xsZXIoJ2xvZ2luJywgWyckcm9vdFNjb3BlJywnJHNjb3BlJywgJyRodHRwJywgJyRsb2NhdGlvbicsICckbWRUb2FzdCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgJG1kVG9hc3Qpe1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpe1xuICAgICAgICAkaHR0cC5wb3N0KCcvYXV0aGVudGljYXRlJywge3VzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS50b2tlbil7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXJuYW1lID0gYW5ndWxhci50b0pzb24ocmVzcG9uc2UuZGF0YS51c2VyLnVzZXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZW1haWwgPSBhbmd1bGFyLnRvSnNvbihyZXNwb25zZS5kYXRhLnVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS50b2tlbiA9IGFuZ3VsYXIudG9Kc29uKHJlc3BvbnNlLmRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2V2ZW50cycpO1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2xvZ2dlZCBJbicpXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3dTaW1wbGUocmVzcG9uc2UuZGF0YS5lcnJvcilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICApXG4gICAgfVxufV0pO1xuLy9jb250cm9sbGVyIGZvciBtYWluIHRvb2xiYXJcbmFwcC5jb250cm9sbGVyKCd0b29sYmFyJywgWyckcm9vdFNjb3BlJywnJHNjb3BlJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuICAgICRzY29wZS51c2VyID0gJHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICAkc2NvcGUucGF0aHMgPSB0cnVlO1xuICAgICRyb290U2NvcGUuJG9uKCdsb2dnZWQgSW4nLCBmdW5jdGlvbigpe1xuICAgICAgICBpZigkd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAkc2NvcGUucGF0aHMgPSB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICRzY29wZS5wYXRocyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSlcblxufV0pO1xuYXBwLmNvbnRyb2xsZXIoJ3Jlc2V0JyxbJyRzY29wZScsICckaHR0cCcsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24pe1xuICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZnVuY3Rpb24ocGFzc3dvcmQsIGNvbmZpcm0pe1xuICAgICAgICBjb25zb2xlLmxvZyhwYXNzd29yZCk7XG4gICAgICAgIHZhciB0b2tlbiA9ICRyb3V0ZVBhcmFtcy50b2tlbjtcbiAgICAgICAgaWYocGFzc3dvcmQgPT09IGNvbmZpcm0pe1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3Jlc2V0Jywge3Bhc3N3b3JkOiBwYXNzd29yZCwgdG9rZW46IHRva2VufSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufV0pO1xuLy9jb250cm9sbGVyIGZvciB0aGUgbG9nb3V0IGZ1bmN0aW9uYWxpdHlcbmFwcC5jb250cm9sbGVyKCdsb2dvdXQnLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywnJGxvY2F0aW9uJywgJyRpbnRlcnZhbCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJGxvY2F0aW9uLCAkaW50ZXJ2YWwpe1xuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ291dCcpO1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2xvZ2dlZCBJbicpO1xuICAgICAgICAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpXG4gICAgICAgIH0sIDMwMDAsIDEpXG4gICAgfTtcbn1dKTtcbi8vZGlyZWN0aXZlIHRvIGNoZWNrIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG5hcHAuZGlyZWN0aXZlKCd2ZXJpZnlTYW1lJywgZnVuY3Rpb24oKXtcbiAgICAgICByZXR1cm4ge1xuICAgICAgICAgICByZXF1aXJlOiBcIm5nTW9kZWxcIixcbiAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgIG90aGVyTW9kZWxWYWx1ZTogXCI9Y29tcGFyZVRvXCJcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMsIG5nTW9kZWwpIHtcblxuICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5jb21wYXJlVG8gPSBmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPT0gc2NvcGUub3RoZXJNb2RlbFZhbHVlO1xuICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKFwicGFzc3dvcmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICB9XG4gICAgICAgfTtcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdldmVudHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIHRoaXMudGlsZXMgPSBidWlsZEdyaWRNb2RlbCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFdmVudCBUaXRsZVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRHcmlkTW9kZWwodGlsZVRtcGwpe1xuICAgICAgICAgICAgdmFyIGl0LCByZXN1bHRzID0gWyBdO1xuICAgICAgICAgICAgICAgIGl0ID0gYW5ndWxhci5leHRlbmQoe30sdGlsZVRtcGwpO1xuICAgICAgICAgICAgICAgIGl0LnRpdGxlID0gaXQudGl0bGU7XG4gICAgICAgICAgICAgICAgaXQuc3BhbiAgPSB7IHJvdyA6IDEsIGNvbCA6IDEgfTtcbiAgICAgICAgICAgICAgICBpdC5iYWNrZ3JvdW5kID0gXCJncmF5XCI7XG4gICAgICAgICAgICAgICAgaXQuc3Bhbi5yb3cgPSBpdC5zcGFuLmNvbCA9IDE7XG5cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuICAgIH0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
